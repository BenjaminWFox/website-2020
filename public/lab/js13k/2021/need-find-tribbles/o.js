!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"u",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.u)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.u?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="./",t(t.s=0)}({0:function(e,n,t){e.exports=t("tjUo")},FRuT:function(e,n,t){"use strict";t.r(n);var r=t("JPst"),o=t.n(r)()(!1);o.push([e.i,'html{box-sizing:border-box;font-size:16px}*,*:before,*:after{box-sizing:inherit}body{font-size:14px;font-family:Rockwell,Consolas,Georgia,Times,"Times New Roman",serif;transition:opacity 1s}body:not(.loading){opacity:1 !important}body,h1,h2,h3,h4,h5,h6,p,ol,ul,a{margin:0;padding:0;font-weight:normal;color:#fff}h1{white-space:nowrap}a:hover,button.textlike:hover{background-color:transparent;color:#ddd}sub{font-size:.875rem;vertical-align:baseline}ol,ul{list-style:none}img{max-width:100%;height:auto}@keyframes glowing{0%{background-color:#d23cff;box-shadow:0 0 2px #d036ff}50%{background-color:#9215b8;box-shadow:0 0 15px #ac1cd8}100%{background-color:#d23cff;box-shadow:0 0 2px #d036ff}}button{border:1px #fff solid;color:#fff;background:transparent;padding:10px 12px;cursor:pointer;font-size:14px;font-family:inherit}button.textlike{border:none;padding:0;margin:none;display:inline-block;text-decoration:underline}button:hover{background-color:#333}button:disabled,button.important:disabled{animation:none;cursor:none;opacity:.5}button.important{font-weight:bold;animation:glowing 2s ease-in-out infinite}button.inline{margin:0px 4px}.nauth{display:unset}.yauth,.yauthB{display:none}.authd .yauth{display:unset}.authd .yauthB{display:block}.authd .nauth{display:none}#cvWrap.overlaid #presignin{display:none}body.authd #presignin{display:none}.info>*{margin-top:15px}.smtext{font-size:.75rem}.split{display:flex;justify-content:space-between}#wrapper,#top{display:flex;flex-direction:row}.fetching #loading{opacity:1;transition:none}#loading{width:64px;height:64px;position:absolute;top:308px;opacity:0;transition:opacity .5s}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}#spinner{animation:spin 2s linear infinite}#display{width:100%;min-width:300px;height:300px;border:1px solid;margin:0 auto;display:flex;justify-content:center;align-items:center;border:1px #000 solid}#download{position:absolute;top:325px;transform:translateX(-2px);display:none}#download button{padding:0 8px;margin:0;width:64px;height:48px;border:none}#download img{width:100%;height:100%;image-rendering:auto;image-rendering:crisp-edges;image-rendering:pixelated}@keyframes pulse{0%{background:#222}50%{background:#000}100%{background:#222}}.dClear{width:100%;height:100%;animation:pulse .5s ease-in-out infinite}.dText{padding:50px}.tabs{display:flex}.tabs>div{width:50%;text-align:center;border:1px #000 solid;padding:15px;background-color:#070707;cursor:pointer}.tabs>div.sel{border-bottom:none;background-color:#111}.sI .tgc{display:none}.tG .sic,.tG #sicContent{display:none !important}#tabContent{padding:10px;border:1px #000 solid;border-top:none;max-height:315px;overflow-y:auto}#more{padding:10px;border:1px #000 solid;margin-top:20px}#gC>ul>li>ul{margin-bottom:20px}#gC>ul>li>ul>li{padding:5px;margin:5px;border:1px #000 solid}#gC label{margin-left:15px}#details{margin-top:15px}#top,#bottom{width:100%}#bottom{border-top:1px solid #333}#cvWrap{position:relative;overflow:auto;border-right:1px solid #333;max-height:100vh;padding:10px}#cvWrap.overlaid{overflow-x:hidden}#cvWrap.overlaid #overlay,body:not(.authd) #overlay{display:flex}#overlay{position:absolute;right:0;left:0;top:0;bottom:0;min-height:1025px;background-color:rgba(90,90,90,.75);display:none;justify-content:center}#about,#foundTribble,#backTribbles{display:none}.showAbout #about,.showFoundTribble #foundTribble,.showBackTribbles #backTribbles{display:unset}.showFoundTribble #close{display:none}#content{position:relative;top:20px;max-width:60%;max-height:50%}@media(min-width: 1025px){#content{top:50%;transform:translateY(-50%)}}#content h2{font-size:2rem}#overlay .info{max-width:275px;min-width:150px;margin:0 auto}#canvas{background-color:#000}#panel{position:relative;width:350px;overflow:hidden;max-height:1025px;padding:20px 10px;overflow-y:auto;min-width:350px}.flex{flex-grow:1}#tid{font-weight:600;font-style:italic;display:inline-block}#claimGroup{display:flex;justify-content:space-between}#stuffed,#gear,#trib,#other,#space{display:none}#details.tribble #trib{display:unset}#details.gear #gear{display:unset}#details.other #other{display:unset}#details.space #space{display:unset}#details.stuffed #stuffed{display:unset}#details:not(.empty) #nomatch{display:none}@media only screen and (min-device-width: 375px)and (max-device-width: 1000px)and (orientation: landscape){#panel{height:90vh}}',""]),n.default=o},JPst:function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([o]).join("\n")}var a,s,u;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&o[u[0]]||(t&&(u[2]?u[2]="".concat(t," and ").concat(u[2]):u[2]=t),n.push(u))}},n}},LboF:function(e,n,t){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function s(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function u(e,n){for(var t={},r=[],o=0;o<e.length;o++){var i=e[o],u=n.base?i[0]+n.base:i[0],c=t[u]||0,l="".concat(u," ").concat(c);t[u]=c+1;var d=s(l),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:m(f,n),references:1}),r.push(l)}return r}function c(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var l,d=(l=[],function(e,n){return l[e]=n,l.filter(Boolean).join("\n")});function f(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function b(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,h=0;function m(e,n){var t,r,o;if(n.singleton){var i=h++;t=p||(p=c(n)),r=f.bind(null,t,i,!1),o=f.bind(null,t,i,!0)}else t=c(n),r=b.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var t=u(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=s(t[r]);a[o].references--}for(var i=u(e,n),c=0;c<t.length;c++){var l=s(t[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}t=i}}}},"q+Kr":function(e,n,t){var r=t("LboF"),o=t("FRuT");"string"==typeof(o=o.u?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},tjUo:function(e,n,t){"use strict";t.r(n);t("q+Kr");var r={TRIBBLE_PREFIX:"Tribble_R1_",TRIBBLE_SUFFIX:".png",TRIBBLE_PREVIEW_URL:"https://js13k-2021-tribbles.s3.us-west-2.amazonaws.com/",DEFAULT_OWNER:"need-find-tribbles-js13k.testnet",GEAR:{"eyes-bandit":!1,"eyes-Eyes_Cross":!1,"eyes-Eyes_Down":!1,"eyes-Eyes_Up":!1,"eyes-Glasses_Yellow":!1,"eyes-Green_Glasses":!1,"eyes-Pink_Glasses":!1,"face-Beard":!1,"face-Beauty_Mark":!1,"face-Big_Nose":!1,"face-Flower":!1,"face-Freckles":!1,"face-Gold_Ring":!1,"face-Silver_Ring":!1,"face-Small_Nose":!1,"feet-Boots":!1,"feet-Sandals":!1,"feet-Skateboard":!1,"feet-Skates":!1,"feet-Slippers":!1,"hair-Blonde":!1,"hair-Blue_Hat":!1,"hair-Brown":!1,"hair-Durag":!1,"hair-Headband":!1,"hair-Orange_Punk":!1,"hair-Pink_Punk":!1,"hair-Red_Hat":!1,"mouth-Bubblegum":!1,"mouth-Cigar":!1,"mouth-Cigarette":!1,"mouth-Pursed_Lips":!1,"mouth-Small_Smile":!1,"mouth-Smirk":!1,"mouth-Tongue_Out":!1,"stuffed-tribble":!1}},o=r;function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var s={clickCheckInProgress:!1,searchContent:{displayContent:"Nothing here but empty space, for now...",displayImage:""},gearContent:{tribble:new Image,drawn:{hair:"",eyes:"",face:"",mouth:"",feet:""}}};s.gearContent.tribble.crossOrigin="anonymous",s.gearContent.tribble.src='https://js13k-2021-tribbles-gear.s3.us-west-2.amazonaws.com/stuffed-tribble.png?x-req="testing';var u=u||function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},s),c=u;function l(e,n,t,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void t(e)}s.done?n(u):Promise.resolve(u).then(r,o)}function d(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,s=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==t.return||t.return()}finally{if(s)throw o}}return i}(e,n)||b(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){if(e){if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,n):void 0}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var h,m,g,v=document.getElementById.bind(document),y=function(e){var n=f(e.split("-"),2),t=n[0],r=n[1],o=r.split("_").join(" ");return{category:t,id:r,friendly:o}},w=function(e,n){var t=y(e),r=t.category,o=(t.id,t.friendly);v("gearType").innerHTML="You found ".concat(o,". It's for the ").concat(r,"!"),v("gearExtra").innerHTML=n?"Something new and fun! Your stuffed tribble will love it!":"You already have one of these. Oh well, maybe someone else will find it someday!"},x=function(e,n){if("None"===e)c.gearContent.drawn[n]="",k();else{var t=new Image;t.crossOrigin="anonymous",t.src=B("".concat(n,"-").concat(e)),c.gearContent.drawn[n]=t,t.addEventListener("load",k)}},k=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.id="stuffedTribbleCanvas",e.width=240,e.height=240,n.clearRect(0,0,e.width,e.height),n.drawImage(c.gearContent.tribble,0,0),Object.keys(c.gearContent.drawn).forEach((function(e){c.gearContent.drawn[e]&&n.drawImage(c.gearContent.drawn[e],0,0)})),v("display").innerHTML="",v("display").appendChild(e)},j=function(){var e=document.createElement("canvas"),n=e.getContext("2d");e.width=300,e.height=280,n.drawImage(document.getElementById("stuffedTribbleCanvas"),20,20);var t=e.toDataURL("image/png"),r=window.open("");r.document.write("<title>Tribble!</title>"),r.document.write('<img src="'.concat(t,'"/>')),r.document.close()},T=function(){Object.entries(o.GEAR).forEach((function(e){var n=f(e,2),t=n[0];if(n[1]&&"stuffed-tribble"!==t){var r=y(t),o=r.category,i=r.id,a=r.friendly;if(!v(i)){var s=function(e,n,t){var r=document.createElement("li"),o=document.createElement("input"),i=document.createElement("label");return o.type="radio",o.id=e,o.onclick=function(){x(this.id,this.parentNode.parentNode.id)},o.name=t,i.htmlFor=e,i.innerHTML=n,r.appendChild(o),r.appendChild(i),r}(i,a,o);v(o).appendChild(s)}}}))},O=function(e,n){v(e).className=n},R=function(e,n,t){var r;e?v(n).classList.add(t):"string"!=typeof t?(r=v(n).classList).remove.apply(r,d(t)):v(n).classList.remove(t)},_=function(e){R(!1,"sI","sel"),R(!1,"tabContent","sI"),R(!1,"tG","sel"),R(!1,"tabContent","tG"),R(!0,e,"sel"),R(!0,"tabContent",e),"tG"===e&&(o.GEAR["stuffed-tribble"]&&k(),v("download").style.display="block"),"sI"===e&&(I(c.searchContent.type,c.searchContent.displayImage),v("download").style.display="none")},S=function(e,n){O("details",e),I(e,n)},I=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=v("display");switch(e){default:case"empty":c.searchContent.displayContent='<div class="dText">Nothing here but empty space, for now...</div>';break;case"gear":c.searchContent.displayContent='<img src="'.concat(n,'" />'),c.searchContent.displayImage=n;break;case"other":var r='<img src="'.concat(n,'" style="max-width: 260px; max-height: 260px;" />')||!1;c.searchContent.displayContent='<div class="dText">'.concat(r,"</div>"),c.searchContent.displayImage=n;break;case"clear":c.searchContent.displayContent='<div class="dClear dText"></div>';break;case"tribble":c.searchContent.displayContent='<img src="'.concat(n,'" />'),c.searchContent.displayImage=n;break;case"space":c.searchContent.displayContent='<img src="'.concat(n,'" style="max-width: 260px; max-height: 260px;" />'),c.searchContent.displayImage=n;break;case"stuffed":c.searchContent.displayContent='<img src="'.concat(n,'" />'),c.searchContent.displayImage=n}c.searchContent.type=e,t.innerHTML=c.searchContent.displayContent},C=function(e){v("cAcct").innerHTML="Account: ".concat(e),R(!0,"b","authd"),E(!1)},B=function(e){return"https://js13k-2021-tribbles-gear.s3.us-west-2.amazonaws.com/".concat(e,'.png?x-req="testing"')},P=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,t){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.metadata,o="http://ipfs.io/".concat(r.reference.replace("://","/")),"need-find-tribbles-js13k.testnet"===n.owner_id?(v("claim").disabled=!1,v("ownership").innerHTML="currently unowned!"):(v("claim").disabled=!0,v("ownership").innerHTML="owned by ".concat(n.owner_id)),v("tid").innerHTML=n.token_id,v("ipfsmeta").href=o;case 6:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),A=function(e){R(e,"panel","fetching")},E=function(e){e?R(!0,"cvWrap","overlaid"):O("cvWrap","")},U=function(){O("cvWrap","showAbout overlaid")},F=function(){O("cvWrap","showBackTribbles overlaid")};function G(e,n,t,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void t(e)}s.done?n(u):Promise.resolve(u).then(r,o)}function M(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){G(i,r,o,a,s,"next",e)}function s(e){G(i,r,o,a,s,"throw",e)}a(void 0)}))}}var N=function(){g.requestSignIn("need-find-tribbles-js13k.testnet","Need to Find the Tribbles!")},L=function(){g.signOut(),window.location.reload()};function W(){return z.apply(this,arguments)}function z(){return(z=M(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v("tid").innerHTML,A(!0),v("claim").disabled=!0,e.next=6,fetch("https://benjaminwfox.com/api/tribble/transfer",{method:"POST",body:JSON.stringify({token_id:n,new_token_owner_id:m.accountId}),headers:{"Content-Type":"application/json"}});case 6:return t=e.sent,e.next=9,t.json();case 9:"Success"===e.sent.status!==-1?v("ownership").innerHTML="owned by ".concat(m.accountId):v("claim").disabled=!1,A(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return q.apply(this,arguments)}function q(){return(q=M(regeneratorRuntime.mark((function e(n){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get_token({token_id:n});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return D.apply(this,arguments)}function D(){return(D=M(regeneratorRuntime.mark((function e(){var n,t,r,o,i,a,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.nearApi,t=n.keyStores,r=n.connect,o=n.WalletConnection,i=new t.BrowserLocalStorageKeyStore,a={networkId:"testnet",keyStore:i,nodeUrl:"https://rpc.testnet.near.org",walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org",explorerUrl:"https://explorer.testnet.near.org"},e.next=6,r(a);case 6:if(s=e.sent,!(g=new o(s)).isSignedIn()){e.next=22;break}return u=g.getAccountId(),C(u),e.next=14,s.account(g._authData.accountId);case 14:return m=e.sent,e.next=17,m.state();case 17:e.sent,h=new n.Contract(m,"need-find-tribbles-js13k.testnet",{viewMethods:["get_token"],changeMethods:["nft_reassign_ownership"],sender:m}),e.next=23;break;case 22:R(!1,"b","authd");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,n,t,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void t(e)}s.done?n(u):Promise.resolve(u).then(r,o)}function K(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){H(i,r,o,a,s,"next",e)}function s(e){H(i,r,o,a,s,"throw",e)}a(void 0)}))}}var X=[],V=new alea("hello."),$=[0,50,100,150,200,225,250],Q=1e3-($.length-1),Z={},ee={},ne={},te={};function re(e,n){return Math.floor(Math.random()*(n-e+1)+e)}var oe,ie,ae={getRandomKeyPoint:function(){var e=Object.keys(Z);return e[re(0,e.length)]},getTribbleId:function(e){return"".concat(o.TRIBBLE_PREFIX).concat(e)},getTribblePreview:function(e){return"".concat(o.TRIBBLE_PREVIEW_URL).concat(o.TRIBBLE_PREFIX).concat(e).concat(o.TRIBBLE_SUFFIX)},showTribble:(ie=K(regeneratorRuntime.mark((function e(n){var t,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae.getTribbleId(n),r=ae.getTribblePreview(n),e.next=4,Y(t);case 4:if(!(o=e.sent)){e.next=11;break}return O("cvWrap","showFoundTribble overlaid"),S("tribble",r),P(o),e.abrupt("return",!0);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)}))),function(e){return ie.apply(this,arguments)}),getRandomGear:function(){var e=Object.keys(o.GEAR),n=e[re(0,e.length-2)];S("gear",B(n)),o.GEAR[n]?w(n,!1):(window.localStorage.setItem(n,"true"),o.GEAR[n]=!0,w(n,!0))},giveStuffedTribble:function(){S("stuffed",B("stuffed-tribble")),o.GEAR["stuffed-tribble"]=!0,window.localStorage.setItem("stuffed-tribble","true")},checkClickedPixel:(oe=K(regeneratorRuntime.mark((function e(n){var t,r,i,a,s,u,l,d,f,b,p,h,m,g,y,w,x,k,j,O,R;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.x,n.y,t=n.key,A(!0),_("sI"),o.GEAR["stuffed-tribble"]){e.next=7;break}ae.giveStuffedTribble(),e.next=66;break;case 7:if(!ee[t]){e.next=13;break}ae.getRandomGear(),T(),e.next=66;break;case 13:if(!ne[t]){e.next=37;break}return r=re(1,670),i="",e.prev=17,e.next=20,fetch("https://rickandmortyapi.com/api/character/".concat(r));case 20:return a=e.sent,e.next=23,a.json();case 23:s=e.sent,u=s.name,l=s.location,d=s.species,f=s.origin,b=s.image,i="You found ".concat(u," the ").concat(d,".<br/><br/>"),i+=f.name===l.name?"Lives on ".concat(null==f?void 0:f.name,"."):"Originally from ".concat(null==f?void 0:f.name,", now on ").concat(null==l?void 0:l.name,"."),v("otherText").innerHTML=i,S("other",b),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(17),v("otherText").innerHTML="Who can say, but what it once was it is now not and never will be again.",S("other",null);case 35:e.next=66;break;case 37:if(!te[t]){e.next=62;break}return p=["planet","nebula","galaxy","beautiful"],h=re(0,3),m=re(1,3),e.next=44,fetch("https://images-api.nasa.gov/search?media_type=image&q=".concat(p[h],"&page=").concat(m));case 44:return g=e.sent,e.prev=45,e.next=48,g.json();case 48:y=e.sent,w=re(0,y.collection.items.length-1),x=y.collection.items[w],k=x.links[0].href,j=x.data[0],O=j.title,R=j.nasa_id,S("space",k),v("spaceText").innerHTML="".concat(O,'.<br/><br/><a href="https://images-assets.nasa.gov/image/').concat(R,'/metadata.json" target="_blank">Read more from NASA<a/>!'),e.next=60;break;case 57:e.prev=57,e.t1=e.catch(45),S("empty");case 60:e.next=66;break;case 62:return e.next=64,ae.showTribble(t);case 64:e.sent||S("empty");case 66:c.clickCheckInProgress=!1,A(!1);case 68:case"end":return e.stop()}}),e,null,[[17,31],[45,57]])}))),function(e){return oe.apply(this,arguments)})},se=function(e,n){var t,r,o,i=V(),a=parseInt(1e3*i,10);return r=e,o=n,(t=a)>600&&t<700&&(ee["".concat(r,"-").concat(o)]=!0),t>800&&t<900&&(ne["".concat(r,"-").concat(o)]=!0),t>200&&t<500&&(te["".concat(r,"-").concat(o)]=!0),a<Q?$[0]:$[1e3-a]},ue=function(e){for(var n=0;n<1e3;n+=1){for(var t=[],r=0;r<1e3;r+=1){var o=se(r,n);t.push(o),e.fillStyle="rgb(".concat(o,", ").concat(o,", ").concat(o,")"),e.fillRect(r,n,1,1)}X.push(t)}};function ce(e,n){var t=e.getBoundingClientRect(),r=Math.floor(n.clientX-t.left),o=Math.floor(n.clientY-t.top);return{x:r,y:o,key:"".concat(r,"-").concat(o)}}window.onload=K(regeneratorRuntime.mark((function e(){var n,t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object.keys(o.GEAR).forEach((function(e){window.localStorage.getItem(e)&&(o.GEAR[e]=!0)})),R(!1,"b","loading"),T(),S("empty"),e.next=6,J();case 6:n=document.getElementById("canvas"),t=n.getContext("2d"),window.fn={signIn:N,signOut:L,claimNFT:W,closeOverlay:function(){return E(!1)},setTab:_,setGearImage:x,showAbout:U,showBackTribbles:F,downloadStuffedTribble:j},n.width=1e3,n.height=1e3,n.addEventListener("mousedown",(function(e){var t=ce(n,e);c.clickCheckInProgress||(c.clickCheckInProgress=!0,ae.checkClickedPixel(t))})),ue(t);case 13:case"end":return e.stop()}}),e)})))}});